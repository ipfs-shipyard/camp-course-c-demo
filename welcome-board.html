<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<!-- TODO: tachyons are good for prototyping, be can move final styles to external file when all is ready  -->
	<!--link href="https://unpkg.com/tachyons@4.11.1/css/tachyons.min.css" rel="stylesheet">
	<link href="https://unpkg.com/ipfs-css@0.12.0/ipfs.css" rel="stylesheet"-->
	<title>Welcome Board</title>
  <link href="./assets/style.css" rel="stylesheet" />
  <style>
    .peerCard {
      width: 200px !important;
      height: 300px;
      margin-right: 1rem;
    }
    .grid {
      justify-content: flex-start;
    }
  </style>
</head>

<body>
	<header>
		<h1>IPFS Camp 2019: Course C</h1>
  </header>
  <div style="font-size: 4rem; text-align: center; width: 100%; margin-bottom: 1rem;" id="host">
  </div>
  <script>
    document.getElementById("host").textContent = location.host;
  </script>
  <div id="peerBoard-container"></div>
  <script src="https://unpkg.com/ipfs-http-client@32.0.1/dist/index.min.js"></script>
  <script src="/assets/index.min.js"></script>
  <script>
    const httpGateway = 'https://ipfs.io'
    //const websocketStar = '/dnsaddr/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star'
    const websocketStar = '/dns4/rendezvous.jimpick.com/tcp/9091/wss/p2p-websocket-star'
    const boostrapNodes = [
      '/dns4/node0.preload.ipfs.io/tcp/443/wss/ipfs/QmZMxNdpMkewiVZLMRxaNxUeZpDUb34pWjZ1kZvsd16Zic',
      '/dns4/node1.preload.ipfs.io/tcp/443/wss/ipfs/Qmbut9Ywz9YEDrz8ySBSgWyJk41Uvm2QJPhwDJzJyGFsD6'
    ]
    const delegateNodes = [
      '/dns4/node1.preload.ipfs.io/tcp/443/https'
    ]

    // start js-ipfs in page context
    var ipfs = new window.Ipfs({
      config: {
        Bootstrap: boostrapNodes,
        Addresses: { Swarm: [websocketStar] },
        /* TODO:
        Delegates: [delegateNodes]
        */
      },
      preload: { enabled: true, addresses: delegateNodes },
      EXPERIMENTAL: {
        ipnsDNS: true,
      }
    })
  </script>
	<script async type="module" src="./assets/peer-board.js"></script>
	</div>
</body>

</html>
